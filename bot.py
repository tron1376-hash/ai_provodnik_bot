import os
import logging
from datetime import datetime
from telegram import Update, InlineKeyboardButton, InlineKeyboardMarkup
from telegram.ext import Application, CommandHandler, MessageHandler, CallbackQueryHandler, filters, ContextTypes
from gigachat import GigaChat
from dotenv import load_dotenv

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
logging.basicConfig(
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    level=logging.INFO
)

# –ó–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
load_dotenv()

# –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
TELEGRAM_BOT_TOKEN = os.getenv("TELEGRAM_BOT_TOKEN")
GIGACHAT_API_KEY = os.getenv("GIGACHAT_API_KEY")
GIGACHAT_SCOPE = os.getenv("GIGACHAT_SCOPE")
GIGACHAT_VERIFY_SSL = os.getenv("GIGACHAT_VERIFY_SSL", "false").lower() == "true"
BRAND_IMAGE_PATH = os.getenv("BRAND_IMAGE_PATH", "assets/brand.jpg")
MENU_URL = os.getenv("MENU_URL")


async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /start - –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é"""
    
    # –û—Ç–ø—Ä–∞–≤–∫–∞ –ª–æ–≥–æ—Ç–∏–ø–∞
    try:
        with open(BRAND_IMAGE_PATH, 'rb') as photo:
            await update.message.reply_photo(photo)
    except Exception as e:
        logger.error(f"–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–∞—Ä—Ç–∏–Ω–∫–∏: {e}")
    
    keyboard = [
        [InlineKeyboardButton("üöÇ –ú–æ–π –ø–æ–µ–∑–¥", callback_data='my_train')],
        [InlineKeyboardButton("üçú –ú–µ–Ω—é —É –ø—Ä–æ–≤–æ–¥–Ω–∏–∫–∞", callback_data='menu')],
        [InlineKeyboardButton("üéØ –£—Å–ª—É–≥–∏ –≤ –ø–æ–µ–∑–¥–µ", callback_data='services')],
        [InlineKeyboardButton("üìç –ì–¥–µ –º—ã —Å–µ–π—á–∞—Å?", callback_data='location')],
        [InlineKeyboardButton("‚ÑπÔ∏è –ü–æ–ª–µ–∑–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è", callback_data='info')],
        [InlineKeyboardButton("‚ùì –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã", callback_data='faq')],
        [InlineKeyboardButton("üìû –°–≤—è–∑–∞—Ç—å—Å—è —Å –ø—Ä–æ–≤–æ–¥–Ω–∏–∫–æ–º", callback_data='conductor')],
        [InlineKeyboardButton("üéÆ –†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è", callback_data='entertainment')],
    ]
    reply_markup = InlineKeyboardMarkup(keyboard)
    
    welcome_message = (
        "üöÇ –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –Ø AI Provodnik - –≤–∞—à —Ü–∏—Ñ—Ä–æ–≤–æ–π –ø–æ–º–æ—â–Ω–∏–∫ –≤ –ø—É—Ç–∏!\n\n"
        "–Ø –ø–æ–º–æ–≥—É –≤–∞–º —Å:\n"
        "‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø–æ–µ–∑–¥–µ –∏ –º–∞—Ä—à—Ä—É—Ç–µ\n"
        "‚úÖ –ó–∞–∫–∞–∑–æ–º –µ–¥—ã –∏ –Ω–∞–ø–∏—Ç–∫–æ–≤\n"
        "‚úÖ –£—Å–ª—É–≥–∞–º–∏ –≤ –≤–∞–≥–æ–Ω–µ\n"
        "‚úÖ –û—Ç–≤–µ—Ç–∞–º–∏ –Ω–∞ –ª—é–±—ã–µ –≤–æ–ø—Ä–æ—Å—ã\n\n"
        "–í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–π —Ä–∞–∑–¥–µ–ª –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –∑–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å:"
    )
    
    if update.message:
        await update.message.reply_text(welcome_message, reply_markup=reply_markup)
    else:
        await update.callback_query.message.reply_text(welcome_message, reply_markup=reply_markup)





async def help_command(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /help"""
    help_text = (
        "‚ÑπÔ∏è –ü–æ–º–æ—â—å –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –±–æ—Ç–∞:\n\n"
        "üöÇ /start - –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é\n"
        "‚ùì /help - –≠—Ç–∞ —Å–ø—Ä–∞–≤–∫–∞\n\n"
        "üí¨ –í—ã –º–æ–∂–µ—Ç–µ:\n"
        "‚Ä¢ –í—ã–±—Ä–∞—Ç—å –Ω—É–∂–Ω—ã–π —Ä–∞–∑–¥–µ–ª –∏–∑ –º–µ–Ω—é\n"
        "‚Ä¢ –ó–∞–¥–∞—Ç—å –ª—é–±–æ–π –≤–æ–ø—Ä–æ—Å —Ç–µ–∫—Å—Ç–æ–º\n"
        "‚Ä¢ –ü–æ–ø—Ä–æ—Å–∏—Ç—å –ø–æ–º–æ—â—å –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è\n\n"
        "–Ø —Ä–∞–±–æ—Ç–∞—é 24/7 –∏ –≤—Å–µ–≥–¥–∞ —Ä–∞–¥ –ø–æ–º–æ—á—å! ü§ñ"
    )
    await update.message.reply_text(help_text)


async def button_handler(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞–∂–∞—Ç–∏–π –Ω–∞ –∫–Ω–æ–ø–∫–∏"""
    query = update.callback_query
    await query.answer()
    
    if query.data == 'back_to_menu':
        await start(update, context)
        return
    
    # –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥" –¥–ª—è –≤—Å–µ—Ö –º–µ–Ω—é
    back_button = [[InlineKeyboardButton("‚óÄÔ∏è –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é", callback_data='back_to_menu')]]
    
    if query.data == 'my_train':
        train_text = (
            "üöÇ –ò–ù–§–û–†–ú–ê–¶–ò–Ø –û –í–ê–®–ï–ú –ü–û–ï–ó–î–ï\n\n"
            "üé´ –ü–æ–µ–∑–¥: ‚Ññ042–ê ¬´–†–æ—Å—Å–∏—è¬ª\n"
            "üìç –ú–∞—Ä—à—Ä—É—Ç: –ú–æ—Å–∫–≤–∞ ‚Üí –í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫\n"
            "üöâ –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –ú–æ—Å–∫–≤–∞ (–Ø—Ä–æ—Å–ª–∞–≤—Å–∫–∏–π –≤–æ–∫–∑–∞–ª) - 13:20\n"
            "üèÅ –ü—Ä–∏–±—ã—Ç–∏–µ: –í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫ - —á–µ—Ä–µ–∑ 6 –¥–Ω–µ–π, 02:25\n\n"
            
            "üìä –¢–ï–ö–£–©–ò–ô –°–¢–ê–¢–£–°:\n"
            "‚è±Ô∏è –í –ø—É—Ç–∏: 2 –¥–Ω—è 14 —á–∞—Å–æ–≤\n"
            "üìç –ü–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç–∞–Ω—Ü–∏—è: –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫\n"
            "‚è∞ –í—Ä–µ–º—è —Å—Ç–æ—è–Ω–∫–∏ –±—ã–ª–æ: 25 –º–∏–Ω—É—Ç\n"
            "‚û°Ô∏è –°–ª–µ–¥—É—é—â–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞: –ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫ (—á–µ—Ä–µ–∑ 8 —á–∞—Å–æ–≤)\n\n"
            
            "üó∫Ô∏è –û–°–ù–û–í–ù–´–ï –û–°–¢–ê–ù–û–í–ö–ò:\n"
            "‚úÖ –ú–æ—Å–∫–≤–∞ ‚Üí –ö–∏—Ä–æ–≤ ‚Üí –ü–µ—Ä–º—å ‚Üí –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥ ‚Üí –¢—é–º–µ–Ω—å ‚Üí –û–º—Å–∫ ‚Üí –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫\n"
            "‚û°Ô∏è –ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫ ‚Üí –ò—Ä–∫—É—Ç—Å–∫ ‚Üí –£–ª–∞–Ω-–£–¥—ç ‚Üí –ß–∏—Ç–∞ ‚Üí –•–∞–±–∞—Ä–æ–≤—Å–∫ ‚Üí –í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫\n\n"
            
            "üöÉ –í–∞—à –≤–∞–≥–æ–Ω: ‚Ññ7 (–∫—É–ø–µ)\n"
            "üî¢ –ú–µ—Å—Ç–æ: 24 (–≤–µ—Ä—Ö–Ω–µ–µ)\n\n"
            
            "üí° –î–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∑–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å –≤ —á–∞—Ç"
        )
        await query.message.reply_text(
            train_text,
            reply_markup=InlineKeyboardMarkup(back_button)
        )
    
    elif query.data == 'menu':
        menu_text = (
            "üçú –ú–ï–ù–Æ –£ –ü–†–û–í–û–î–ù–ò–ö–ê\n\n"
            
            "‚òï –ì–û–†–Ø–ß–ò–ï –ù–ê–ü–ò–¢–ö–ò:\n"
            "‚Ä¢ –ß–∞–π —á—ë—Ä–Ω—ã–π - 50‚ÇΩ\n"
            "‚Ä¢ –ß–∞–π –∑–µ–ª—ë–Ω—ã–π - 50‚ÇΩ\n"
            "‚Ä¢ –ö–æ—Ñ–µ —Ä–∞—Å—Ç–≤–æ—Ä–∏–º—ã–π - 80‚ÇΩ\n"
            "‚Ä¢ –ö–æ—Ñ–µ 3 –≤ 1 - 60‚ÇΩ\n"
            "‚Ä¢ –ö–∞–∫–∞–æ - 70‚ÇΩ\n"
            "‚Ä¢ –ì–æ—Ä—è—á–∏–π —à–æ–∫–æ–ª–∞–¥ - 90‚ÇΩ\n\n"
            
            "üçú –ë–´–°–¢–†–û–ï –ü–ò–¢–ê–ù–ò–ï:\n"
            "‚Ä¢ –õ–∞–ø—à–∞ –î–æ—à–∏—Ä–∞–∫ (–≥–æ–≤—è–¥–∏–Ω–∞) - 120‚ÇΩ\n"
            "‚Ä¢ –õ–∞–ø—à–∞ –†–æ–ª–ª—Ç–æ–Ω (–∫—É—Ä–∏—Ü–∞) - 100‚ÇΩ\n"
            "‚Ä¢ –ü—é—Ä–µ –±—ã—Å—Ç—Ä–æ–≥–æ –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è - 80‚ÇΩ\n"
            "‚Ä¢ –ö–∞—à–∞ –æ–≤—Å—è–Ω–∞—è –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è - 70‚ÇΩ\n"
            "‚Ä¢ –°—É–ø—á–∏–∫ –≤ —Å—Ç–∞–∫–∞–Ω–µ - 110‚ÇΩ\n\n"
            
            "üç™ –°–ù–ï–ö–ò –ò –°–õ–ê–î–û–°–¢–ò:\n"
            "‚Ä¢ –ü–µ—á–µ–Ω—å–µ (—É–ø–∞–∫–æ–≤–∫–∞) - 80‚ÇΩ\n"
            "‚Ä¢ –®–æ–∫–æ–ª–∞–¥ –ê–ª—ë–Ω–∫–∞ - 90‚ÇΩ\n"
            "‚Ä¢ –ß–∏–ø—Å—ã Lay's - 120‚ÇΩ\n"
            "‚Ä¢ –°—É—Ö–∞—Ä–∏–∫–∏ - 70‚ÇΩ\n"
            "‚Ä¢ –û—Ä–µ—à–∫–∏ —Å–æ–ª—ë–Ω—ã–µ - 100‚ÇΩ\n"
            "‚Ä¢ –ö–æ–Ω—Ñ–µ—Ç—ã (–∞—Å—Å–æ—Ä—Ç–∏) - 150‚ÇΩ\n\n"
            
            "ü•§ –•–û–õ–û–î–ù–´–ï –ù–ê–ü–ò–¢–ö–ò:\n"
            "‚Ä¢ –í–æ–¥–∞ –º–∏–Ω–µ—Ä–∞–ª—å–Ω–∞—è 0.5–ª - 60‚ÇΩ\n"
            "‚Ä¢ –°–æ–∫ –≤ –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç–µ 0.2–ª - 80‚ÇΩ\n"
            "‚Ä¢ Coca-Cola 0.33–ª - 100‚ÇΩ\n"
            "‚Ä¢ –≠–Ω–µ—Ä–≥–µ—Ç–∏–∫ Red Bull - 150‚ÇΩ\n\n"
            
            "üçû –ì–û–¢–û–í–ê–Ø –ï–î–ê:\n"
            "‚Ä¢ –ë—É—Ç–µ—Ä–±—Ä–æ–¥—ã (—Å—ã—Ä/–∫–æ–ª–±–∞—Å–∞) - 150‚ÇΩ\n"
            "‚Ä¢ –ü–∏—Ä–æ–∂–∫–∏ (–≤ –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç–µ) - 80‚ÇΩ\n"
            "‚Ä¢ –°–æ—Å–∏—Å–∫–∏ –≤ —Ç–µ—Å—Ç–µ - 100‚ÇΩ\n\n"
            
            "üí∞ –û–ü–õ–ê–¢–ê:\n"
            "–ù–∞–ª–∏—á–Ω—ã–µ –∏–ª–∏ –∫–∞—Ä—Ç–∞ (–ú–∏—Ä, Visa, MasterCard)\n\n"
            
            "üìû –î–õ–Ø –ó–ê–ö–ê–ó–ê:\n"
            "–ù–∞–∂–º–∏—Ç–µ '–°–≤—è–∑–∞—Ç—å—Å—è —Å –ø—Ä–æ–≤–æ–¥–Ω–∏–∫–æ–º' ‚Üí '–ó–∞–∫–∞–∑–∞—Ç—å –µ–¥—É –≤ –∫—É–ø–µ'\n"
            "–ò–ª–∏ –Ω–∞–ø–∏—à–∏—Ç–µ –≤ —á–∞—Ç —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –∑–∞–∫–∞–∑–∞—Ç—å\n\n"
            
            "‚ô®Ô∏è –ö–∏–ø—è—Ç–æ–∫ –¥–ª—è –ª–∞–ø—à–∏/—á–∞—è - –ë–ï–°–ü–õ–ê–¢–ù–û (–≤ –∫–æ–Ω—Ü–µ –≤–∞–≥–æ–Ω–∞)"
        )
        await query.message.reply_text(
            menu_text,
            reply_markup=InlineKeyboardMarkup(back_button)
        )
    
    elif query.data == 'services':
        services_text = (
            "üéØ –£–°–õ–£–ì–ò –í –í–ê–®–ï–ú –ü–û–ï–ó–î–ï\n\n"
            
            "‚òï –ü–ò–¢–ê–ù–ò–ï:\n"
            "‚Ä¢ –ù–∞–ø–∏—Ç–∫–∏ –∏ —Å–Ω–µ–∫–∏ —É –ø—Ä–æ–≤–æ–¥–Ω–∏–∫–∞\n"
            "‚Ä¢ –î–æ—Å—Ç–∞–≤–∫–∞ –µ–¥—ã –≤ –∫—É–ø–µ\n"
            "‚Ä¢ –ì–æ—Ä—è—á–∞—è –≤–æ–¥–∞ (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)\n\n"
            
            "üõèÔ∏è –ü–û–°–¢–ï–õ–¨–ù–û–ï –ë–ï–õ–¨–Å:\n"
            "‚Ä¢ –ö–æ–º–ø–ª–µ–∫—Ç –≤–∫–ª—é—á—ë–Ω –≤ —Å—Ç–æ–∏–º–æ—Å—Ç—å\n"
            "‚Ä¢ –°–º–µ–Ω–∞ –±–µ–ª—å—è –ø–æ –∑–∞–ø—Ä–æ—Å—É\n"
            "‚Ä¢ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–¥—É—à–∫–∏/–æ–¥–µ—è–ª–∞\n\n"
            
            "üöø –ì–ò–ì–ò–ï–ù–ê:\n"
            "‚Ä¢ –¢—É–∞–ª–µ—Ç—ã –≤ –Ω–∞—á–∞–ª–µ –∏ –∫–æ–Ω—Ü–µ –≤–∞–≥–æ–Ω–∞\n"
            "‚Ä¢ –£–º—ã–≤–∞–ª—å–Ω–∏–∫–∏ —Å –≥–æ—Ä—è—á–µ–π –≤–æ–¥–æ–π\n"
            "‚Ä¢ –ú—ã–ª–æ –∏ –ø–æ–ª–æ—Ç–µ–Ω—Ü–∞ —É –ø—Ä–æ–≤–æ–¥–Ω–∏–∫–∞\n\n"
            
            "üì± –°–í–Ø–ó–¨ –ò –ò–ù–¢–ï–†–ù–ï–¢:\n"
            "‚Ä¢ Wi-Fi –≤ –≤–∞–≥–æ–Ω–µ (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)\n"
            "‚Ä¢ –†–æ–∑–µ—Ç–∫–∏ –≤ –∫–∞–∂–¥–æ–º –∫—É–ø–µ (220–í)\n"
            "‚Ä¢ –ó–∞—Ä—è–¥–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ —É –ø—Ä–æ–≤–æ–¥–Ω–∏–∫–∞\n\n"
            
            "üéÆ –†–ê–ó–í–õ–ï–ß–ï–ù–ò–Ø:\n"
            "‚Ä¢ –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∫–Ω–∏–≥/–∂—É—Ä–Ω–∞–ª–æ–≤\n"
            "‚Ä¢ –ù–∞—Å—Ç–æ–ª—å–Ω—ã–µ –∏–≥—Ä—ã\n"
            "‚Ä¢ –§–∏–ª—å–º—ã –∏ –º—É–∑—ã–∫–∞ (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)\n\n"
            
            "üè• –ú–ï–î–ò–¶–ò–ù–ê:\n"
            "‚Ä¢ –ê–ø—Ç–µ—á–∫–∞ –ø–µ—Ä–≤–æ–π –ø–æ–º–æ—â–∏\n"
            "‚Ä¢ –í—ã–∑–æ–≤ –≤—Ä–∞—á–∞ –Ω–∞ —Å—Ç–∞–Ω—Ü–∏—è—Ö\n\n"
            
            "üîê –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨:\n"
            "‚Ä¢ –û—Ö—Ä–∞–Ω–∞ –ø–æ–µ–∑–¥–∞\n"
            "‚Ä¢ –ö–∞–º–µ—Ä—ã –≤–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏—è\n"
            "‚Ä¢ –¢—Ä–µ–≤–æ–∂–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –≤ –∫—É–ø–µ\n\n"
            
            "üìû –î–ª—è –∑–∞–∫–∞–∑–∞ —É—Å–ª—É–≥ –Ω–∞–∂–º–∏—Ç–µ '–°–≤—è–∑–∞—Ç—å—Å—è —Å –ø—Ä–æ–≤–æ–¥–Ω–∏–∫–æ–º'"
        )
        await query.message.reply_text(
            services_text,
            reply_markup=InlineKeyboardMarkup(back_button)
        )
    
    elif query.data == 'location':
        current_time = datetime.now().strftime("%H:%M")
        location_text = (
            f"üìç –ì–î–ï –ú–´ –°–ï–ô–ß–ê–°\n\n"
            f"üïê –¢–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è: {current_time} (–ú–°–ö+4)\n"
            f"üöÇ –ü–æ–µ–∑–¥ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –¥–≤–∏–∂–µ–Ω–∏–∏\n\n"
            
            "üìä –ü–û–°–õ–ï–î–ù–Ø–Ø –°–¢–ê–ù–¶–ò–Ø:\n"
            "üöâ –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫-–ì–ª–∞–≤–Ω—ã–π\n"
            "‚è∞ –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: 45 –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥\n"
            "‚úÖ –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ—à–ª–∞ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é\n\n"
            
            "‚û°Ô∏è –°–õ–ï–î–£–Æ–©–ê–Ø –û–°–¢–ê–ù–û–í–ö–ê:\n"
            "üöâ –ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫-–ü–∞—Å—Å–∞–∂–∏—Ä—Å–∫–∏–π\n"
            "‚è±Ô∏è –ü—Ä–∏–±—ã—Ç–∏–µ —á–µ—Ä–µ–∑: ~8 —á–∞—Å–æ–≤ (–æ–∫–æ–ª–æ 21:30)\n"
            "‚è≥ –°—Ç–æ—è–Ω–∫–∞: 15 –º–∏–Ω—É—Ç\n"
            "üõí –ù–∞ –≤–æ–∫–∑–∞–ª–µ: –º–∞–≥–∞–∑–∏–Ω—ã, –∫–∞—Ñ–µ, –∞–ø—Ç–µ–∫–∞\n\n"
            
            "üó∫Ô∏è –ü–†–û–ì–†–ï–°–° –ú–ê–†–®–†–£–¢–ê:\n"
            "–ü—Ä–æ–π–¥–µ–Ω–æ: ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 40%\n"
            "–û—Å—Ç–∞–ª–æ—Å—å: ~4200 –∫–º –¥–æ –í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫–∞\n\n"
            
            "üå°Ô∏è –ü–û–ì–û–î–ê –ó–ê –ë–û–†–¢–û–ú:\n"
            "üå§Ô∏è –ú–∞–ª–æ–æ–±–ª–∞—á–Ω–æ, -12¬∞C\n"
            "üí® –í–µ—Ç–µ—Ä: —Å–µ–≤–µ—Ä–æ-–∑–∞–ø–∞–¥–Ω—ã–π, 5 –º/—Å\n\n"
            
            "üí° –°–ª–µ–¥–∏—Ç–µ –∑–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏—è–º–∏ –ø—Ä–æ–≤–æ–¥–Ω–∏–∫–∞ –æ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–∏ –∫ —Å—Ç–∞–Ω—Ü–∏—è–º"
        )
        await query.message.reply_text(
            location_text,
            reply_markup=InlineKeyboardMarkup(back_button)
        )
    
    elif query.data == 'info':
        info_text = (
            "‚ÑπÔ∏è –ü–û–õ–ï–ó–ù–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø\n\n"
            
            "üïê –†–ï–ñ–ò–ú –†–ê–ë–û–¢–´:\n"
            "‚Ä¢ –ü—Ä–æ–≤–æ–¥–Ω–∏–∫–∏: –∫—Ä—É–≥–ª–æ—Å—É—Ç–æ—á–Ω–æ\n"
            "‚Ä¢ –¢—É–∞–ª–µ—Ç—ã –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è –∑–∞ 15 –º–∏–Ω –¥–æ/–ø–æ—Å–ª–µ —Å—Ç–∞–Ω—Ü–∏–π\n\n"
            
            "üí∞ –û–ü–õ–ê–¢–ê:\n"
            "‚Ä¢ –ù–∞–ª–∏—á–Ω—ã–µ (—Ä—É–±–ª–∏)\n"
            "‚Ä¢ –ë–∞–Ω–∫–æ–≤—Å–∫–∏–µ –∫–∞—Ä—Ç—ã (–ú–∏—Ä, Visa, MasterCard)\n"
            "‚Ä¢ –°–ë–ü (–ø–µ—Ä–µ–≤–æ–¥—ã –ø–æ –Ω–æ–º–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞)\n\n"
            
            "üì± WI-FI:\n"
            "‚Ä¢ –°–µ—Ç—å: ¬´RZD_Free_WiFi¬ª\n"
            "‚Ä¢ –ü–∞—Ä–æ–ª—å: —É–∫–∞–∑–∞–Ω –≤ –∫—É–ø–µ –Ω–∞ —Å—Ç–∏–∫–µ—Ä–µ\n"
            "‚Ä¢ –°–∫–æ—Ä–æ—Å—Ç—å: –¥–æ 5 –ú–±–∏—Ç/—Å\n"
            "‚Ä¢ –ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞\n\n"
            
            "üîå –†–û–ó–ï–¢–ö–ò:\n"
            "‚Ä¢ –í –∫–∞–∂–¥–æ–º –∫—É–ø–µ: 2 —Ä–æ–∑–µ—Ç–∫–∏ 220–í\n"
            "‚Ä¢ –í –∫–æ—Ä–∏–¥–æ—Ä–µ: –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–æ–∑–µ—Ç–∫–∏\n"
            "‚Ä¢ –ú–æ–∂–Ω–æ –∑–∞—Ä—è–∂–∞—Ç—å –Ω–æ—É—Ç–±—É–∫–∏ –∏ —Ç–µ–ª–µ—Ñ–æ–Ω—ã\n\n"
            
            "üå°Ô∏è –ö–õ–ò–ú–ê–¢:\n"
            "‚Ä¢ –ö–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏\n"
            "‚Ä¢ –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞: +22-24¬∞C\n"
            "‚Ä¢ –†–µ–≥—É–ª–∏—Ä–æ–≤–∫–∞ –≤ –∫—É–ø–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞\n\n"
            
            "üì¶ –ë–ê–ì–ê–ñ:\n"
            "‚Ä¢ –†—É—á–Ω–∞—è –∫–ª–∞–¥—å: –ø–æ–¥ —Å—Ç–æ–ª–∏–∫–æ–º –∏ –Ω–∞ –ø–æ–ª–∫–∞—Ö\n"
            "‚Ä¢ –ö—Ä—É–ø–Ω—ã–µ –≤–µ—â–∏: –ø–æ–¥ –Ω–∏–∂–Ω–∏–º–∏ –ø–æ–ª–∫–∞–º–∏\n"
            "‚Ä¢ –¶–µ–Ω–Ω–æ—Å—Ç–∏: —Ö—Ä–∞–Ω–∏—Ç–µ –ø—Ä–∏ —Å–µ–±–µ\n\n"
            
            "üö≠ –ö–£–†–ï–ù–ò–ï:\n"
            "‚Ä¢ –í –ø–æ–µ–∑–¥–µ –∫—É—Ä–µ–Ω–∏–µ –∑–∞–ø—Ä–µ—â–µ–Ω–æ!\n"
            "‚Ä¢ –ö—É—Ä–∏—Ç—å –º–æ–∂–Ω–æ –Ω–∞ —Å—Ç–∞–Ω—Ü–∏—è—Ö (–≤ –æ—Ç–≤–µ–¥—ë–Ω–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö)\n"
            "‚Ä¢ –®—Ç—Ä–∞—Ñ –∑–∞ –∫—É—Ä–µ–Ω–∏–µ –≤ –ø–æ–µ–∑–¥–µ: –æ—Ç 1000‚ÇΩ\n\n"
            
            "üìû –≠–ö–°–¢–†–ï–ù–ù–´–ï –¢–ï–õ–ï–§–û–ù–´:\n"
            "‚Ä¢ –ì–æ—Ä—è—á–∞—è –ª–∏–Ω–∏—è –†–ñ–î: 8-800-775-00-00\n"
            "‚Ä¢ –ü–æ–ª–∏—Ü–∏—è: 102\n"
            "‚Ä¢ –°–∫–æ—Ä–∞—è –ø–æ–º–æ—â—å: 103\n\n"
            
            "üí° –ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º - –Ω–∞–∂–º–∏—Ç–µ '–°–≤—è–∑–∞—Ç—å—Å—è —Å –ø—Ä–æ–≤–æ–¥–Ω–∏–∫–æ–º'"
        )
        await query.message.reply_text(
            info_text,
            reply_markup=InlineKeyboardMarkup(back_button)
        )
    
    elif query.data == 'faq':
        faq_text = (
            "‚ùì –ß–ê–°–¢–´–ï –í–û–ü–†–û–°–´\n\n"
            
            "‚ùî –ì–¥–µ –≤–∑—è—Ç—å –∫–∏–ø—è—Ç–æ–∫?\n"
            "‚úÖ –í –∫–æ–Ω—Ü–µ –∫–∞–∂–¥–æ–≥–æ –≤–∞–≥–æ–Ω–∞ –µ—Å—Ç—å —Ç–∏—Ç–∞–Ω —Å –∫–∏–ø—è—Ç–∫–æ–º (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)\n\n"
            
            "‚ùî –ú–æ–∂–Ω–æ –ª–∏ –ø—Ä–æ–≤–æ–∑–∏—Ç—å –∞–ª–∫–æ–≥–æ–ª—å?\n"
            "‚úÖ –î–∞, –Ω–æ —Ä–∞—Å–ø–∏–≤–∞—Ç—å –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –≤ –∫—É–ø–µ –∏ –≤ –º–µ—Ä—É\n"
            "‚õî –ü—å—è–Ω—ã—Ö –¥–µ–±–æ—à–∏—Ä–æ–≤ –≤—ã—Å–∞–∂–∏–≤–∞—é—Ç –Ω–∞ –±–ª–∏–∂–∞–π—à–µ–π —Å—Ç–∞–Ω—Ü–∏–∏\n\n"
            
            "‚ùî –ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ –∫—Ä–∞–∂–µ –≤–µ—â–µ–π?\n"
            "‚úÖ –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ —Å–æ–æ–±—â–∏—Ç—å –ø—Ä–æ–≤–æ–¥–Ω–∏–∫—É\n"
            "‚úÖ –ù–∞ –∫—Ä—É–ø–Ω—ã—Ö —Å—Ç–∞–Ω—Ü–∏—è—Ö –≤—ã–∑–æ–≤—É—Ç –ø–æ–ª–∏—Ü–∏—é\n\n"
            
            "‚ùî –ú–æ–∂–Ω–æ –ª–∏ –ø–µ—Ä–µ–π—Ç–∏ –≤ –¥—Ä—É–≥–æ–π –≤–∞–≥–æ–Ω?\n"
            "‚úÖ –î–∞, –≤—Å–µ –≤–∞–≥–æ–Ω—ã —Å–æ–µ–¥–∏–Ω–µ–Ω—ã\n"
            "‚ö†Ô∏è –ë—É–¥—å—Ç–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –º–µ–∂–¥—É –≤–∞–≥–æ–Ω–∞–º–∏\n\n"
            
            "‚ùî –ì–¥–µ –∫—É–ø–∏—Ç—å –µ–¥—É, –µ—Å–ª–∏ –Ω–µ—Ç –¥–µ–Ω–µ–≥?\n"
            "‚úÖ –ù–∞ –∫—Ä—É–ø–Ω—ã—Ö —Å—Ç–∞–Ω—Ü–∏—è—Ö –µ—Å—Ç—å –º–∞–≥–∞–∑–∏–Ω—ã –∏ –∫–∞—Ñ–µ\n"
            "‚úÖ –£ –ø—Ä–æ–≤–æ–¥–Ω–∏–∫–∞ –º–æ–∂–Ω–æ –∫—É–ø–∏—Ç—å —á–∞–π/–∫–æ—Ñ–µ\n\n"
            
            "‚ùî –ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –ø–ª–æ—Ö–æ —Å–µ–±—è —á—É–≤—Å—Ç–≤—É—é?\n"
            "‚úÖ –°–æ–æ–±—â–∏—Ç—å –ø—Ä–æ–≤–æ–¥–Ω–∏–∫—É\n"
            "‚úÖ –í –ø–æ–µ–∑–¥–µ –µ—Å—Ç—å –∞–ø—Ç–µ—á–∫–∞\n"
            "‚úÖ –ù–∞ —Å—Ç–∞–Ω—Ü–∏—è—Ö –º–æ–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å –≤—Ä–∞—á–∞\n\n"
            
            "‚ùî –ú–æ–∂–Ω–æ –ª–∏ –≤—ã–π—Ç–∏ –Ω–∞ —Å—Ç–∞–Ω—Ü–∏–∏?\n"
            "‚úÖ –î–∞, –Ω–æ —Å–ª–µ–¥–∏—Ç–µ –∑–∞ –≤—Ä–µ–º–µ–Ω–µ–º —Å—Ç–æ—è–Ω–∫–∏!\n"
            "‚ö†Ô∏è –ü–æ–µ–∑–¥ –Ω–µ –±—É–¥–µ—Ç –∂–¥–∞—Ç—å –æ–ø–æ–∑–¥–∞–≤—à–∏—Ö\n\n"
            
            "‚ùî –ì–¥–µ —Å—É—à–∏—Ç—å –º–æ–∫—Ä—ã–µ –≤–µ—â–∏?\n"
            "‚úÖ –í –∫—É–ø–µ –µ—Å—Ç—å –±–∞—Ç–∞—Ä–µ–∏ –æ—Ç–æ–ø–ª–µ–Ω–∏—è\n"
            "‚úÖ –í —Ç—É–∞–ª–µ—Ç–µ –µ—Å—Ç—å –∫—Ä—é—á–∫–∏ –¥–ª—è –æ–¥–µ–∂–¥—ã\n\n"
            
            "‚ùî –†–∞–±–æ—Ç–∞–µ—Ç –ª–∏ –º–æ–±–∏–ª—å–Ω–∞—è —Å–≤—è–∑—å?\n"
            "‚úÖ –î–∞, –Ω–æ –Ω–∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —É—á–∞—Å—Ç–∫–∞—Ö –º–æ–∂–µ—Ç –ø—Ä–æ–ø–∞–¥–∞—Ç—å\n"
            "‚úÖ –í –≤–∞–≥–æ–Ω–µ –µ—Å—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π Wi-Fi\n\n"
            
            "‚ùî –ú–æ–≥—É –ª–∏ —è –ø–æ–º–µ–Ω—è—Ç—å –º–µ—Å—Ç–æ?\n"
            "‚úÖ –ü–æ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—é —Å –¥—Ä—É–≥–∏–º–∏ –ø–∞—Å—Å–∞–∂–∏—Ä–∞–º–∏ - –¥–∞\n"
            "‚úÖ –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ - —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –∫–∞—Å—Å—É –Ω–∞ —Å—Ç–∞–Ω—Ü–∏–∏\n\n"
            
            "üí¨ –ù–µ –Ω–∞—à–ª–∏ –æ—Ç–≤–µ—Ç? –ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å –≤ —á–∞—Ç –∏–ª–∏ –ø—Ä–æ–≤–æ–¥–Ω–∏–∫—É!"
        )
        await query.message.reply_text(
            faq_text,
            reply_markup=InlineKeyboardMarkup(back_button)
        )
    
    elif query.data == 'conductor':
        conductor_keyboard = [
            [InlineKeyboardButton("üìû –ü–æ–∑–≤–∞—Ç—å –ø—Ä–æ–≤–æ–¥–Ω–∏–∫–∞", callback_data='call_conductor')],
            [InlineKeyboardButton("üçΩÔ∏è –ó–∞–∫–∞–∑–∞—Ç—å –µ–¥—É –≤ –∫—É–ø–µ", callback_data='order_food')],
            [InlineKeyboardButton("üõèÔ∏è –ü–æ–ø—Ä–æ—Å–∏—Ç—å –±–µ–ª—å—ë/–ø–æ–ª–æ—Ç–µ–Ω—Ü–µ", callback_data='request_linen')],
            [InlineKeyboardButton("üîß –°–æ–æ–±—â–∏—Ç—å –æ –ø—Ä–æ–±–ª–µ–º–µ", callback_data='report_issue')],
            [InlineKeyboardButton("‚óÄÔ∏è –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é", callback_data='back_to_menu')]
        ]
        conductor_text = (
            "üìû –°–í–Ø–ó–¨ –° –ü–†–û–í–û–î–ù–ò–ö–û–ú\n\n"
            "–í—ã–±–µ—Ä–∏—Ç–µ, —á–µ–º –≤–∞–º –ø–æ–º–æ—á—å:\n\n"
            "‚Ä¢ –ü–æ–∑–≤–∞—Ç—å –ø—Ä–æ–≤–æ–¥–Ω–∏–∫–∞ –∫ –∫—É–ø–µ\n"
            "‚Ä¢ –ó–∞–∫–∞–∑–∞—Ç—å –¥–æ—Å—Ç–∞–≤–∫—É –µ–¥—ã\n"
            "‚Ä¢ –ü–æ–ø—Ä–æ—Å–∏—Ç—å –ø–æ—Å—Ç–µ–ª—å–Ω–æ–µ –±–µ–ª—å—ë\n"
            "‚Ä¢ –°–æ–æ–±—â–∏—Ç—å –æ –ø—Ä–æ–±–ª–µ–º–µ\n\n"
            "‚è∞ –ü—Ä–æ–≤–æ–¥–Ω–∏–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ—Å–º–µ–Ω–Ω–æ 24/7\n"
            "‚ö° –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞: 5-10 –º–∏–Ω—É—Ç\n\n"
            "üö® –í —ç–∫—Å—Ç—Ä–µ–Ω–Ω—ã—Ö —Å–ª—É—á–∞—è—Ö –Ω–∞–∂–º–∏—Ç–µ —Ç—Ä–µ–≤–æ–∂–Ω—É—é –∫–Ω–æ–ø–∫—É –≤ –∫—É–ø–µ!"
        )
        await query.message.reply_text(
            conductor_text,
            reply_markup=InlineKeyboardMarkup(conductor_keyboard)
        )
    
    elif query.data == 'call_conductor':
        await query.message.reply_text(
            "‚úÖ –ü—Ä–æ–≤–æ–¥–Ω–∏–∫ –≤—ã–∑–≤–∞–Ω!\n\n"
            "üìç –í–∞—à–µ –∫—É–ø–µ: ‚Ññ24, –≤–∞–≥–æ–Ω ‚Ññ7\n"
            "‚è∞ –ü—Ä–æ–≤–æ–¥–Ω–∏–∫ –ø–æ–¥–æ–π–¥—ë—Ç –≤ —Ç–µ—á–µ–Ω–∏–µ 5-10 –º–∏–Ω—É—Ç\n\n"
            "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Å—Ç–∞–≤–∞–π—Ç–µ—Å—å –≤ –∫—É–ø–µ –∏ –æ–∂–∏–¥–∞–π—Ç–µ.",
            reply_markup=InlineKeyboardMarkup(back_button)
        )
    
    elif query.data == 'order_food':
        await query.message.reply_text(
            "üçú –ú–µ–Ω—é –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∫–Ω–æ–ø–∫–µ '–ú–µ–Ω—é —É –ø—Ä–æ–≤–æ–¥–Ω–∏–∫–∞' –≤ –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é.\n\n"
            "üìù –î–ª—è –∑–∞–∫–∞–∑–∞:\n"
            "1. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –º–µ–Ω—é\n"
            "2. –ù–∞–ø–∏—à–∏—Ç–µ –≤ —á–∞—Ç —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –∑–∞–∫–∞–∑–∞—Ç—å\n"
            "–ù–∞–ø—Ä–∏–º–µ—Ä: '–•–æ—á—É –ª–∞–ø—à—É –î–æ—à–∏—Ä–∞–∫ –∏ –∫–æ—Ñ–µ 3 –≤ 1'\n\n"
            "3. –ü—Ä–æ–≤–æ–¥–Ω–∏–∫ –ø—Ä–∏–Ω–µ—Å—ë—Ç –∑–∞–∫–∞–∑ –≤ –∫—É–ø–µ\n\n"
            "üí∞ –û–ø–ª–∞—Ç–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ (–Ω–∞–ª–∏—á–Ω—ã–µ –∏–ª–∏ –∫–∞—Ä—Ç–∞)\n"
            "‚è∞ –í—Ä–µ–º—è –¥–æ—Å—Ç–∞–≤–∫–∏: 5-10 –º–∏–Ω—É—Ç",
            reply_markup=InlineKeyboardMarkup(back_button)
        )
    
    elif query.data == 'request_linen':
        await query.message.reply_text(
            "‚úÖ –ó–∞–ø—Ä–æ—Å –ø—Ä–∏–Ω—è—Ç!\n\n"
            "üìç –í–∞—à–µ –∫—É–ø–µ: ‚Ññ24, –≤–∞–≥–æ–Ω ‚Ññ7\n"
            "üõèÔ∏è –ü—Ä–æ–≤–æ–¥–Ω–∏–∫ –ø—Ä–∏–Ω–µ—Å—ë—Ç:\n"
            "‚Ä¢ –ß–∏—Å—Ç–æ–µ –ø–æ—Å—Ç–µ–ª—å–Ω–æ–µ –±–µ–ª—å—ë\n"
            "‚Ä¢ –ò–ª–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–æ—Ç–µ–Ω—Ü–µ\n\n"
            "‚è∞ –í —Ç–µ—á–µ–Ω–∏–µ 10 –º–∏–Ω—É—Ç",
            reply_markup=InlineKeyboardMarkup(back_button)
        )
    
    elif query.data == 'report_issue':
        await query.message.reply_text(
            "üîß –û–ø–∏—à–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É –≤ —á–∞—Ç:\n\n"
            "–ù–∞–ø—Ä–∏–º–µ—Ä:\n"
            "‚Ä¢ –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ä–æ–∑–µ—Ç–∫–∞\n"
            "‚Ä¢ –•–æ–ª–æ–¥–Ω–æ –≤ –∫—É–ø–µ\n"
            "‚Ä¢ –ù–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –¥–≤–µ—Ä—å\n"
            "‚Ä¢ –®—É–º–Ω—ã–µ —Å–æ—Å–µ–¥–∏\n\n"
            "–ü—Ä–æ–≤–æ–¥–Ω–∏–∫ –±—É–¥–µ—Ç —É–≤–µ–¥–æ–º–ª—ë–Ω –∏ —Ä–µ—à–∏—Ç –ø—Ä–æ–±–ª–µ–º—É.",
            reply_markup=InlineKeyboardMarkup(back_button)
        )
    
    elif query.data == 'entertainment':
        entertainment_text = (
            "üéÆ –†–ê–ó–í–õ–ï–ß–ï–ù–ò–Ø –í –ü–£–¢–ò\n\n"
            
            "üìö –ë–ò–ë–õ–ò–û–¢–ï–ö–ê:\n"
            "‚Ä¢ –•—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞\n"
            "‚Ä¢ –ñ—É—Ä–Ω–∞–ª—ã –∏ –≥–∞–∑–µ—Ç—ã\n"
            "‚Ä¢ –î–µ—Ç—Å–∫–∏–µ –∫–Ω–∏–≥–∏\n"
            "üìç –£ –ø—Ä–æ–≤–æ–¥–Ω–∏–∫–∞ –≤ –Ω–∞—á–∞–ª–µ –≤–∞–≥–æ–Ω–∞\n\n"
            
            "üé¨ –ö–ò–ù–û –ò –°–ï–†–ò–ê–õ–´:\n"
            "‚Ä¢ Wi-Fi —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ –æ–Ω–ª–∞–π–Ω-–∫–∏–Ω–æ—Ç–µ–∞—Ç—Ä–∞–º\n"
            "‚Ä¢ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º: ivi, Okko, –ö–∏–Ω–æ–ü–æ–∏—Å–∫\n"
            "‚Ä¢ –ù–µ –∑–∞–±—É–¥—å—Ç–µ –Ω–∞—É—à–Ω–∏–∫–∏!\n\n"
            
            "üé≤ –ù–ê–°–¢–û–õ–¨–ù–´–ï –ò–ì–†–´:\n"
            "‚Ä¢ –®–∞—Ö–º–∞—Ç—ã, —à–∞—à–∫–∏\n"
            "‚Ä¢ –ö–∞—Ä—Ç—ã (–¥—É—Ä–∞–∫, –ø–æ–∫–µ—Ä)\n"
            "‚Ä¢ –ú–æ–Ω–æ–ø–æ–ª–∏—è\n"
            "‚Ä¢ –ò–≥—Ä—ã –¥–ª—è –¥–µ—Ç–µ–π\n"
            "üìç –í–∑—è—Ç—å —É –ø—Ä–æ–≤–æ–¥–Ω–∏–∫–∞\n\n"
            
            "üéµ –ú–£–ó–´–ö–ê:\n"
            "‚Ä¢ Spotify, –Ø–Ω–¥–µ–∫—Å.–ú—É–∑—ã–∫–∞, VK –ú—É–∑—ã–∫–∞\n"
            "‚Ä¢ –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ Wi-Fi\n"
            "‚Ä¢ –ù–µ –º–µ—à–∞–π—Ç–µ —Å–æ—Å–µ–¥—è–º - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞—É—à–Ω–∏–∫–∏\n\n"
            
            "üì± –ú–û–ë–ò–õ–¨–ù–´–ï –ò–ì–†–´:\n"
            "–¢–æ–ø –∏–≥—Ä –¥–ª—è –¥–æ–ª–≥–æ–π –¥–æ—Ä–æ–≥–∏:\n"
            "‚Ä¢ Subway Surfers\n"
            "‚Ä¢ Candy Crush\n"
            "‚Ä¢ Chess.com\n"
            "‚Ä¢ Words of Wonders\n\n"
            
            "üé® –¢–í–û–†–ß–ï–°–¢–í–û:\n"
            "‚Ä¢ –†–∞—Å–∫—Ä–∞—Å–∫–∏ (–¥–ª—è –¥–µ—Ç–µ–π)\n"
            "‚Ä¢ –ë–ª–æ–∫–Ω–æ—Ç—ã –¥–ª—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è\n"
            "‚Ä¢ –ü–∞–∑–ª—ã\n\n"
            
            "üë• –°–û–¶–ò–ê–õ–¨–ù–û–ï:\n"
            "‚Ä¢ –ó–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å –ø–æ–ø—É—Ç—á–∏–∫–∞–º–∏\n"
            "‚Ä¢ –ë–µ—Å–µ–¥—ã –≤ —Ç–∞–º–±—É—Ä–µ\n"
            "‚Ä¢ –°–æ–≤–º–µ—Å—Ç–Ω—ã–µ –∏–≥—Ä—ã\n\n"
            
            "üí° –•–æ—Ä–æ—à–µ–≥–æ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è!"
        )
        await query.message.reply_text(
            entertainment_text,
            reply_markup=InlineKeyboardMarkup(back_button)
        )


async def handle_message(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π —á–µ—Ä–µ–∑ GigaChat AI"""
    user_message = update.message.text
    user_name = update.effective_user.first_name
    
    logging.info(f"–ü–æ–ª—É—á–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç {user_name}: {user_message}")
    
    try:
        with GigaChat(
            credentials=GIGACHAT_API_KEY,
            scope=GIGACHAT_SCOPE,
            verify_ssl_certs=False
        ) as giga:
            
            system_message = "–í—ã - AI Provodnik, –ø–æ–º–æ—â–Ω–∏–∫ –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤ –≤ –ø–æ–µ–∑–¥–µ. –û—Ç–≤–µ—á–∞–π—Ç–µ –≤–µ–∂–ª–∏–≤–æ –∏ –∫—Ä–∞—Ç–∫–æ."
            full_prompt = f"{system_message}\n\n–ü–∞—Å—Å–∞–∂–∏—Ä: {user_message}\n\n–ü—Ä–æ–≤–æ–¥–Ω–∏–∫:"
            
            response = giga.chat(full_prompt)
            bot_response = response.choices[0].message.content
        
        await update.message.reply_text(bot_response)
        logging.info(f"‚úÖ –û—Ç–≤–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω")
        
    except Exception as e:
        error_message = (
            "üòî –ò–∑–≤–∏–Ω–∏—Ç–µ, AI –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω.\n\n"
            "–í—ã –º–æ–∂–µ—Ç–µ:\n"
            "‚Ä¢ –í—ã–±—Ä–∞—Ç—å —Ä–∞–∑–¥–µ–ª –∏–∑ –º–µ–Ω—é /start\n"
            "‚Ä¢ –ü–æ–∑–≤–∞—Ç—å –ø—Ä–æ–≤–æ–¥–Ω–∏–∫–∞\n"
            "‚Ä¢ –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å FAQ"
        )
        await update.message.reply_text(error_message)
        logging.error(f"‚ùå –û–®–ò–ë–ö–ê AI: {str(e)}")


def main():
    """–ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞"""
    if not TELEGRAM_BOT_TOKEN:
        logging.error("TELEGRAM_BOT_TOKEN –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ .env —Ñ–∞–π–ª–µ!")
        return
    
    application = Application.builder().token(TELEGRAM_BOT_TOKEN).build()
    
    application.add_handler(CommandHandler("start", start))
    application.add_handler(CommandHandler("help", help_command))
    application.add_handler(CallbackQueryHandler(button_handler))
    application.add_handler(MessageHandler(filters.TEXT & ~filters.COMMAND, handle_message))
    
    logging.info("üöÇ AI Provodnik –∑–∞–ø—É—â–µ–Ω –∏ –≥–æ—Ç–æ–≤ –ø–æ–º–æ–≥–∞—Ç—å –ø–∞—Å—Å–∞–∂–∏—Ä–∞–º!")
    print("‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω!")
    print("üöÇ AI Provodnik –¥–ª—è –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤ –∂–µ–ª–µ–∑–Ω–æ–π –¥–æ—Ä–æ–≥–∏")
    print("‚è∏Ô∏è  –î–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞–∂–º–∏—Ç–µ Ctrl+C")
    
    application.run_polling(allowed_updates=Update.ALL_TYPES)


if __name__ == '__main__':
    main()